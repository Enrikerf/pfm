En el proyecto constará de 4 carpetas principales

\dirtree{%
    .1 Project .
        .2 Domain.
        .2 Application.
        .2 Adapter.
        .2 Bootstrap.
}

Bootstrap será donde hagamos la composición de la aplicación, es decir la inyección de dependencias.

Vamos a desplegar la estructura capa por capa


\textbf{Dominio}

Podemos ver en la figura\ref{fig:1-TaskDomainFolderStructure} por cada aggregate root tenemos una carpeta. En core tenemos la base de la cual extienden determinadas cosas que son comunes en toda a aplicación como los Errores o los eventos. La lógica común. Hay que mencionar que los errores no se han puesto por simplificar se encontrarán en el mismo contexto en el que se utilicen.

\begin{figure}[H]
    \setlength{\DTbaselineskip}{10pt}
    \DTsetlength{0.2em}{1em}{0.2em}{0.4pt}{1.6pt}
%    \DTsetlength{1em}{3em}{0.1em}{1pt}{4pt}
\dirtree{%
    .1 Domain.
        .2 Core.
            .3 \textcolor{blue}{Id}.
            .3 \textcolor{blue}{Event}.
            .3 \textcolor{blue}{Error}.
        .2 Task.
            .3 \textcolor{blue}{Id.go}.
            .3 \textcolor{blue}{Task.go}.
            .3 Host.
                .4 \textcolor{blue}{InvalidHostError}.
                .4 \textcolor{blue}{Host.go}.
            .3 Port.
                .4 \textcolor{blue}{InvalidPortError.go}.
                .4 \textcolor{blue}{Port.go}.
            .3 CommunicationMode.
                .4 \textcolor{blue}{InvalidPortError.go}.
                .4 \textcolor{blue}{Port.go}.
            .3 ExecutionMode.
            .3 Status.
            .3 Step.
                .4 \textcolor{blue}{Id}.
                .4 \textcolor{blue}{StepEntity}.
                .4 \textcolor{blue}{StepVo}.
                .4 Repository.
                    .5 "...".
                .4 Service.
                    .5 "...".
            .3 Repository.
                .4 \textcolor{blue}{Find}.
                .4 \textcolor{blue}{Save}.
                .4 \textcolor{blue}{Search}.
                .4 \textcolor{blue}{Delete}.
                .4 \textcolor{blue}{Update}.
            .3 Service.
                .4 \textcolor{blue}{Finder}.
                .4 \textcolor{blue}{Creator}.
                .4 \textcolor{blue}{Updater}.
                .4 \textcolor{blue}{Eraser}.
                .4 \textcolor{blue}{Searcher}.
        .2 Result.
            .3 ResultId.
            .3 BatchId.
            .3 Result.
            .3 Batch.
            .3 Repository.
                .4 "...".
            .3 Service.
                .4 "...".
}
    \caption{Manager: Estructura de carpetas de Dominio}\label{fig:ManagerEstructura de carpetas de Dominio}
\end{figure}

\textbf{Aplicación}

\begin{figure}[H]
\setlength{\DTbaselineskip}{10pt}
\DTsetlength{0.2em}{1em}{0.2em}{0.4pt}{1.6pt}
\dirtree{%
.1 Application.
    .2 Port.
        .3 in.
            .4 Task.
                .5 LoopExecutor.
                    .6 Command.
                    .6 UseCase
                .5 ManuallyExecutor(Command).
                .5 Create(Command).
                .5 Update(Command).
                .5 Delete(Command).
                .5 Get.
                    .6 Query.
                    .6 UseCase.
                .5 List(Query).
                .5 TaskEvent.
                    .6 Event.
                    .6 Handler.
            .4 Batch.
                .5 Create(Command).
                .5 Delete(Command).
                .5 Get(Query).
                .5 List(Query).
                .5 ListResults(Query).
        .3 out.
            .4 GRPC.
                .5 Unary .
                .5 ServerStream.
                .5 ClientStream.
                .5 Bidirectional.
}
    \caption{Manager: Estructura de carpetas de Aplicación}\label{fig:ManagerEstructura de carpetas de Aplicación}
\end{figure}


\textbf{Adapters}

\begin{figure}[H]
    \setlength{\DTbaselineskip}{10pt}
    \DTsetlength{0.2em}{1em}{0.2em}{0.4pt}{1.6pt}
\dirtree{%
    .1 Adapter.
    .2 in.
    .3 GRPC.
    .4 Harán uso de los useCases de aplicación cuando llegue una request RPC.
    .3 Console.
    .4 Por ejemplo si quisieramos ejecutar los casos de uso mediante terminal.
    .2 out.
    .3 Mysql.
    .4 Implementación de los respository (*2).
    .3 GRPC.
    .4 implementación de los repository de llamada a los servidores clientes.
}
    \caption{Manager: Estructura de carpetas de Infraestructura}\label{fig:ManagerEstructura de carpetas de Infraestructura}
\end{figure}
